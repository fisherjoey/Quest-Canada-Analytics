# ============================================================================
# Quest Canada Web App - Environment Variables Template
#
# Usage:
#   1. Copy this file: cp .env.example .env
#   2. Edit .env with your actual values
#   3. Never commit .env to Git (it's in .gitignore)
#
# IMPORTANT: .env contains secrets - keep it secure!
# ============================================================================

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Node environment (development, production, test)
NODE_ENV=development

# Server configuration
SERVER_PORT=3001
CLIENT_PORT=3000

# Application URL (for callbacks, emails, etc.)
APP_URL=http://localhost:3000

# API base URL
API_URL=http://localhost:3001

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL connection string
# Format: postgresql://[user]:[password]@[host]:[port]/[database]?schema=public
#
# Docker PostgreSQL (default):
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/quest_canada?schema=public"
#
# Local PostgreSQL (alternative):
# DATABASE_URL="postgresql://quest_user:your_secure_password@localhost:5432/quest_canada?schema=public"
#
# Remote PostgreSQL (production):
# DATABASE_URL="postgresql://username:password@hostname:5432/database?schema=public&sslmode=require"

# Shadow database for Prisma migrations (optional)
# SHADOW_DATABASE_URL="postgresql://postgres:postgres@localhost:5432/quest_canada_shadow?schema=public"

# Direct database connection (for running raw SQL)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=quest_canada
DB_USER=postgres
DB_PASSWORD=postgres

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================

# JWT secret key (REQUIRED - generate a strong random string)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-use-openssl-rand-base64-32

# JWT expiration times
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d

# Session secret (for Express session middleware)
SESSION_SECRET=another-super-secret-session-key-change-this-too

# Password hashing rounds (bcrypt)
BCRYPT_ROUNDS=10

# ============================================================================
# WASP CONFIGURATION (Open SaaS)
# ============================================================================

# Wasp server URL
WASP_SERVER_URL=http://localhost:3001

# Wasp web app URL
WASP_WEB_CLIENT_URL=http://localhost:3000

# ============================================================================
# ANTHROPIC CLAUDE API (AI Extraction Service)
# ============================================================================

# Claude API key from https://console.anthropic.com/
# Required for PDF report extraction features
ANTHROPIC_API_KEY=sk-ant-api03-your-actual-api-key-here

# Claude model version
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# Claude API timeout (milliseconds)
ANTHROPIC_TIMEOUT=120000

# Max tokens for Claude responses
ANTHROPIC_MAX_TOKENS=4096

# ============================================================================
# APACHE SUPERSET (Data Visualization)
# ============================================================================

# Superset server URL
SUPERSET_URL=http://localhost:8088

# Superset admin credentials
SUPERSET_USERNAME=admin
SUPERSET_PASSWORD=admin

# Superset secret key (for guest tokens)
SUPERSET_SECRET_KEY=your-superset-secret-key

# Superset database ID (for Quest Canada data)
SUPERSET_DATABASE_ID=1

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================

# Redis connection URL
REDIS_URL=redis://localhost:6379

# Redis password (if enabled)
# REDIS_PASSWORD=your-redis-password

# ============================================================================
# EMAIL SERVICE (SMTP)
# ============================================================================

# Email service provider
EMAIL_PROVIDER=smtp

# SMTP configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Email sender details
EMAIL_FROM_NAME=Quest Canada
EMAIL_FROM_ADDRESS=noreply@questcanada.org

# Email verification settings
EMAIL_VERIFICATION_REQUIRED=true
EMAIL_VERIFICATION_TOKEN_EXPIRY=24h

# ============================================================================
# FILE STORAGE
# ============================================================================

# Storage provider (local, s3, azure, gcp)
STORAGE_PROVIDER=local

# Local file storage path
STORAGE_LOCAL_PATH=./uploads

# AWS S3 configuration (if using S3)
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_S3_BUCKET=quest-canada-uploads

# ============================================================================
# LOGGING
# ============================================================================

# Log level (error, warn, info, debug, verbose)
LOG_LEVEL=debug

# Log format (json, pretty)
LOG_FORMAT=pretty

# Log file path
LOG_FILE_PATH=./logs/app.log

# ============================================================================
# MONITORING & ANALYTICS (Optional)
# ============================================================================

# Sentry DSN for error tracking
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Google Analytics tracking ID
# GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# ============================================================================
# THIRD-PARTY INTEGRATIONS (Optional)
# ============================================================================

# Google OAuth (for social login)
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# Stripe (for payments - future feature)
# STRIPE_PUBLISHABLE_KEY=pk_test_your-publishable-key
# STRIPE_SECRET_KEY=sk_test_your-secret-key
# STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================

# Enable development features
DEV_MODE=true

# Enable hot reload
HOT_RELOAD=true

# Enable source maps
SOURCE_MAPS=true

# Enable debug mode for Prisma
# DEBUG=prisma:*

# Enable query logging for Prisma
PRISMA_QUERY_LOG=true

# ============================================================================
# TESTING
# ============================================================================

# Test database URL (for running tests)
TEST_DATABASE_URL="postgresql://postgres:postgres@localhost:5432/quest_canada_test?schema=public"

# Test mode
# NODE_ENV=test

# ============================================================================
# PRODUCTION SETTINGS (DO NOT USE IN DEVELOPMENT)
# ============================================================================

# Production database with SSL
# DATABASE_URL="postgresql://username:password@production-host:5432/quest_canada?schema=public&sslmode=require"

# Production API URL
# API_URL=https://api.questcanada.org

# Production app URL
# APP_URL=https://app.questcanada.org

# Enable HTTPS
# FORCE_HTTPS=true

# Enable CORS (comma-separated origins)
# CORS_ALLOWED_ORIGINS=https://questcanada.org,https://www.questcanada.org

# ============================================================================
# NOTES
# ============================================================================
#
# Security Best Practices:
# 1. Generate strong random secrets (use openssl rand -base64 32)
# 2. Never commit .env to version control
# 3. Use different secrets for dev, staging, and production
# 4. Rotate secrets regularly in production
# 5. Use environment-specific .env files (.env.development, .env.production)
#
# Docker Users:
# - Use host.docker.internal instead of localhost for host services
# - Example: DATABASE_URL="postgresql://postgres:postgres@host.docker.internal:5432/quest_canada"
#
# Wasp Users:
# - Wasp reads .env.server and .env.client files
# - Server-side: .env.server (for API secrets)
# - Client-side: .env.client (for public keys only)
#
# ============================================================================
